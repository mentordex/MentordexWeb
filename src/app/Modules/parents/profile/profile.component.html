<section class="pt-125 py-65 bg-md-f8f8f8">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="max-545 mx-auto">
                    <div class="bg-white mx-auto profile-steps-rightsidebar-column">
                        <div class="dashboard-parent-profile-header px-2">
                            <div class="dashboard-parent-profile-header-content">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="dashboard-parent-profile-header-content-autor mb-0">
                                            My Profile
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="dashboard-parent-profile-body pt-5 px-0">
                            <form [formGroup]="profileForm">
                                <div class="forms">
                                    <div class="col-12 px-0">
                                        <div class="pb-5 border-e8">
                                            <div class="single-profile-pic">
                                                <img [src]="profileImagePath" alt="default-img" />
                                            </div>
                                            <div class="csuploadfile upload-dropzone--btn flex-shrink-0 ml-3 mt-4 text-center">
                                                <div class="dropzone dropzone-container" [dropzone]="profileImageConfiguration" [disabled]="disabled"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 px-xl-5">
                                        <div class="row py-4">
                                            <div class="col-sm-6">
                                                <div class="text-top-detail font-14 mb-2">First Name</div>
                                                <div class="single-form-row mb-4">
                                                    <input type="text" formControlName="first_name" class="special--inputs w-100" placeholder="First Name" />
                                                    <p class="errorCls" *ngIf="profileForm.controls.first_name.touched || isProfileFormSubmitted">
                                                        <app-form-validation-errors minLength=2 maxLength=20 errorPrefix="First Name " [errors]="profileForm.get('first_name').errors"></app-form-validation-errors>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="text-top-detail font-14 mb-2">Last Name</div>
                                                <div class="single-form-row mb-4">
                                                    <input type="text" formControlName="last_name" class="special--inputs w-100" placeholder="Last Name" />

                                                    <p class="errorCls" *ngIf="profileForm.controls.last_name.touched || isProfileFormSubmitted">
                                                        <app-form-validation-errors minLength=2 maxLength=20 errorPrefix="Last Name " [errors]="profileForm.get('last_name').errors"></app-form-validation-errors>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="text-top-detail font-14 mb-2">Email Address</div>
                                                <div class="single-form-row mb-4">
                                                    <input type="email" formControlName="email" class="special--inputs w-100" placeholder="Email Address" readonly="true" />
                                                    <p class="errorCls" *ngIf="profileForm.controls.email.touched || isProfileFormSubmitted">
                                                        <app-form-validation-errors errorPrefix="Email Address " patternError="Enter valid email address." [errors]="profileForm.get('email').errors"></app-form-validation-errors>
                                                    </p>
                                                </div>
                                            </div>

                                            <div class="col-12">
                                                <div class="text-top-detail font-14 mb-2">New Password</div>
                                                <div class="single-form-row mb-4">
                                                    <input type="password" formControlName="password" class="special--inputs w-100" placeholder="Password" />

                                                    <p class="errorCls" *ngIf="profileForm.controls.password.touched || isProfileFormSubmitted">
                                                        <app-form-validation-errors minLength=8 maxLength=50 errorPrefix="Password " [errors]="profileForm.get('password').errors"></app-form-validation-errors>
                                                    </p>
                                                </div>
                                            </div>

                                            <div class="col-12">
                                                <div class="text-top-detail font-14 mb-2">Phone Number</div>
                                                <div class="single-form-row mb-4 ngx-intl-tel-box-modify">
                                                    <input type="phone" formControlName="phone" class="special--inputs w-100" placeholder="Phone" readonly="true" />
                                                    <!--ngx-intl-tel-input [cssClass]="'elementor--text special--inputs w-100'" [preferredCountries]="preferredCountries" [onlyCountries]="onlyCountries" [enableAutoCountrySelect]="false" [enablePlaceholder]="true" [customPlaceholder]="'Mobile Number'" [searchCountryFlag]="false"
                                                        [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]" [selectFirstCountry]="false" [selectedCountryISO]="CountryISO.UnitedStates" [maxLength]="15" [tooltipField]="TooltipLabel.Name"
                                                        [phoneValidation]="true" [separateDialCode]="true" name="phone" formControlName="phone">

                                                    </ngx-intl-tel-input-->

                                                    <p class="errorCls" *ngIf="profileForm.controls.phone.hasError('validatePhoneNumber')">
                                                        <span>Invalid Mobile Number.</span>
                                                    </p>

                                                    <p class="errorCls" *ngIf="profileForm.controls.phone.touched || isProfileFormSubmitted">
                                                        <app-form-validation-errors errorPrefix="Mobile Number " minLength=10 maxLength=10 [errors]="profileForm.get('phone').errors"></app-form-validation-errors>
                                                    </p>

                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="text-top-detail font-14 mb-2">Country</div>
                                                <div class="single-form-row mb-4">


                                                    <select formControlName="country_id" #country (change)="getStatesListing(country.value)" class="custom-select special--select special--inputs w-100">
                                                    <option disabled selected value="">Country</option>
                                                    <option *ngFor="let country of countries;" value="{{country._id}}">{{country.title}}</option>
                                                </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="text-top-detail font-14 mb-2">State</div>
                                                <div class="single-form-row mb-4">
                                                    <select formControlName="state_id" #state (change)="getCityListing(state.value)" class="custom-select special--select special--inputs w-100">
                                                    <option disabled selected value="">State</option>
                                                    <option *ngFor="let state of states;" value="{{state._id}}">{{state.title}}</option> 
                                                </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="text-top-detail font-14 mb-2">City</div>
                                                <div class="single-form-row mb-4">
                                                    <select formControlName="city_id" #city (change)="getZipcodeListing(city.value)" class="custom-select special--select special--inputs w-100">
                                                    <option disabled selected value="">City</option>
                                                    <option *ngFor="let city of cities;" value="{{city._id}}">{{city.title}}</option>
                                                </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="text-top-detail font-14 mb-2">Zip Code</div>
                                                <div class="single-form-row mb-3 mb-md-4">
                                                    <select formControlName="zipcode" class="custom-select special--select special--inputs w-100">
                                                    <option disabled selected value="">Zipcode</option>
                                                    <option *ngFor="let zipcode of zipcodes;" value="{{zipcode.value}}">{{zipcode.value}}</option>
                                                    
                                                    </select>
                                                    <p class="errorCls" *ngIf="profileForm.controls.zipcode.touched || isProfileFormSubmitted">
                                                        <app-form-validation-errors errorPrefix="Zipcode " [errors]="profileForm.get('zipcode').errors"></app-form-validation-errors>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="single-form-row">
                                                    <input type="submit" [disabled]="profileForm.invalid" (click)="onSubmitProfileForm()" class="primary--button w-100 py-md-3" value="Save Changes" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>

<ngx-ui-loader></ngx-ui-loader>